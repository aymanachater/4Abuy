<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>4Abuy - Fashion Store</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    #cart-count { color: red !important; font-weight: bold; font-size: 0.9rem; margin-left: 4px; }
    body { font-family: 'Segoe UI', Arial, sans-serif; margin: 0; background: #f8f8f8; color: #111; }
    .announcement { background: #f4f4f4; color: #111; text-align: center; font-size: 1rem; padding: 0.5rem; letter-spacing: 1px; }
    header { position: fixed; top: 0; left: 0; width: 100%; z-index: 999; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15); background-color: #fff; color: #111; display: flex; justify-content: space-between; align-items: center; padding: 10px 20px; }
    .header-left { display: flex; align-items: center; gap: 1rem; }
    .menu-icon { font-size: 24px; cursor: pointer; }
    .icons { display: flex; gap: 20px; font-size: 20px; padding-right: 40px; align-items: center; white-space: nowrap; }
    .icons i { cursor: pointer; transition: transform 0.2s; }
    .icons i:hover { transform: scale(1.2); }
    .hero {
      padding-top: 80px;
      position: relative;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      overflow: hidden;
      background: #111;
    }
    .hero iframe {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      min-width: 100%;
      min-height: 100%;
      width: auto;
      height: auto;
      z-index: 1;
      border: none;
    }
    .hero-bg-overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.60); z-index: 2; }
    .hero-content { position: relative; z-index: 3; text-align: center; width: 100%; max-width: 480px; margin: auto; padding: 2rem 1rem; }
    .hero .available { font-size: 1rem; letter-spacing: 1px; opacity: 0.7; margin-bottom: 0.7rem; text-transform: uppercase; }
    .hero h1 { font-size: 2.2rem; font-weight: 700; margin: 0 0 1rem 0; letter-spacing: 1px; text-shadow: 0 2px 8px #0008; }
    .hero p { font-size: 1.1rem; margin-bottom: 2rem; opacity: 0.93; text-shadow: 0 2px 8px #0008; }
    .shop-btn { padding: 0.8rem 2.2rem; font-size: 1.1rem; background: #000; color: #fff; border: none; border-radius: 30px; font-weight: 600; cursor: pointer; box-shadow: 0 2px 12px rgba(0,0,0,0.07); transition: background .2s, color .2s; }
    .shop-btn:hover { background: #444; color: #fff; }
    .shop-category-section { max-width: 1100px; margin: 0 auto 2.5rem auto; padding: 0 2vw; }
    .shop-category-title { display: flex; align-items: center; justify-content: center; margin: 2.5rem 0 2rem 0; }
    .shop-category-title span { font-size: 1.5rem; font-weight: 700; letter-spacing: 1.2px; text-align: center; color: #222; margin: 0 1.2rem; }
    .shop-category-title:before, .shop-category-title:after { content: ""; display: block; height: 2px; background: #222; flex: 1 1 0%; max-width: 180px; }
    .category-carousel-wrapper { position: relative; width: 100%; margin: 0 auto; }
    .category-carousel { display: flex; overflow: hidden; width: 100%; background: transparent; justify-content: center; align-items: center; }
    .category-slide { flex: 0 0 90%; max-width: 800px; background: #fff; border-radius: 7px; position: relative; overflow: hidden; box-shadow: 0 2px 10px rgba(0,0,0,.08); height: 450px; transition: transform 0.5s ease-in-out; }
    .category-slide img { width: 100%; height: 100%; object-fit: cover; display: block; border-radius: 7px; }
    .category-label { position: absolute; left: 1.2rem; bottom: 1.5rem; right: 1.2rem; text-align: center; font-size: 1.2rem; font-weight: 600; letter-spacing: 1px; text-shadow: 0 2px 8px #222; padding: 0.4rem 1.2rem; border-radius: 25px; border: 2px solid #fff; background: rgba(0, 0, 0, 0.2); color: #fff; text-transform: uppercase; transition: background 0.2s ease, color 0.2s ease; }
    .category-label:hover { background: rgba(255, 255, 255, 0.2); }
    .carousel-btn { display: none; }
    .new-arrivals { padding: 40px 20px; text-align: center; }
    .product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; }
    .product-card { width: 100%; text-align: center; background: #fff; border-radius: 9px; overflow:hidden; padding-bottom:10px;}
    .product-card img { width: 100%; height: auto; border-radius: 4px; }
    .product-card h3 { font-size: 1rem; margin: 10px 0 5px; }
    .product-card .price { font-size: 0.95rem; color: #000; font-weight: bold; }
    .shop-now { margin-top: 10px; padding: 8px 20px; font-size: 0.9rem; background-color: #000; color: #fff; border: none; border-radius: 20px; cursor: pointer; }
    .all-seasons-collection-section { max-width: 1200px; margin: 3rem auto 2.5rem auto; padding: 0 2vw; text-align: center; }
    .seasons-grid { display: flex; flex-wrap: wrap; justify-content: space-around; gap: 20px; margin-top: 2.2rem; }
    .season-card { background: #fff; border-radius: 9px; overflow: hidden; box-shadow: 0 2px 10px rgba(0,0,0,0.06); text-align: center; padding: 20px; flex: 1 1 300px; max-width: 350px; display: flex; flex-direction: column; align-items: center; transition: transform 0.2s ease, box-shadow 0.2s ease; }
    .season-card:hover { transform: translateY(-5px); box-shadow: 0 6px 15px rgba(0,0,0,0.1); }
    .season-card img { width: 100%; height: 250px; object-fit: cover; border-radius: 4px; margin-bottom: 15px; }
    .season-card h3 { font-size: 1.4rem; margin: 0 0 10px 0; font-weight: 600; color: #333; }
    .season-card p { font-size: 0.95rem; color: #555; margin-bottom: 20px; line-height: 1.6; flex-grow: 1; }
    .season-card .shop-now { margin-top: auto; }
    .auth-modal{display:none;position:fixed;z-index:10000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgba(0,0,0,.6);justify-content:center;align-items:center;font-family:'Segoe UI',Arial,sans-serif}.auth-modal-content{background-color:#fff;margin:auto;padding:30px;border-radius:12px;box-shadow:0 0 30px rgba(0,0,0,.3);width:90%;max-width:450px;position:relative;text-align:center}.auth-modal .close-btn{position:absolute;top:10px;right:20px;color:#aaa;font-size:28px;font-weight:700;cursor:pointer}.auth-modal h2{margin-top:0;margin-bottom:25px;font-size:1.8rem;color:#333}.auth-modal input[type=email],.auth-modal input[type=password]{width:calc(100% - 24px);padding:12px;margin-bottom:20px;border:1px solid #ccc;border-radius:5px;font-size:1rem;box-sizing:border-box}.auth-modal button[type=submit]{background-color:#000;color:#fff;padding:12px 20px;border:none;border-radius:25px;cursor:pointer;font-size:1rem;font-weight:600;width:100%;transition:background-color .2s;box-sizing:border-box}.auth-modal .switch-form-link{display:block;margin-top:20px;font-size:.9rem;color:#555}.auth-modal .switch-form-link a{color:#cc00aa;text-decoration:underline;font-weight:700;cursor:pointer}
    .search-overlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);z-index:10001;justify-content:center;align-items:flex-start;padding-top:100px}.search-container{width:90%;max-width:600px;background:#fff;padding:20px;border-radius:8px;position:relative}.search-form{display:flex;gap:10px}.search-input{flex:1;padding:12px;border:2px solid #ddd;border-radius:4px;font-size:16px}.search-submit{padding:12px 24px;background:#000;color:#fff;border:none;border-radius:4px;cursor:pointer}.close-search{position:absolute;top:-40px;right:0;color:#fff;font-size:24px;cursor:pointer}.search-results-container{margin-top:15px;max-height:400px;overflow-y:auto;background:#fdfdfd;border-radius:4px;border:1px solid #eee;display:none}.search-result-item{display:flex;align-items:center;padding:10px;border-bottom:1px solid #f0f0f0; text-decoration: none; color: inherit;}.search-result-item:last-child{border-bottom:none}.search-result-item img{width:60px;height:60px;object-fit:cover;margin-right:15px;border-radius:4px}.search-result-details{flex-grow:1}.search-result-details h4{margin:0 0 5px;font-size:1rem}.search-result-details p{margin:0;font-size:.9rem;color:#333;font-weight:700}.search-result-item .shop-now{padding:6px 12px;font-size:.8rem;white-space:nowrap}
    @media (max-width: 600px) { .category-slide { height: 350px; } .category-label { font-size: 1rem; white-space: normal; } }
  </style>
</head>
<body>
  <div id="sideMenu" style="width: 0px; position: fixed; z-index: 10001; top: 0px; left: 0px; background-color: rgb(255, 255, 255); overflow-x: hidden; transition: ease-out: 0.4s; padding-top: 20px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 20px;">
    <a href="javascript:void(0)" style="position: absolute; top: 15px; right: 25px; font-size: 36px; text-decoration: none; color: rgb(85, 85, 85);" id="closeSideMenu">×</a>
    <div style="padding: 10px 15px 15px; font-size: 1.1rem; font-weight: 700; color: rgb(17, 17, 17); display: flex; align-items: center; border-bottom: 1px solid rgb(240, 240, 240); margin: 0px 15px 10px;">
      CATEGORY <span style="margin-left: 10px; font-size: 0.8rem;">▼</span>
    </div>
    <a href="shop-womens.html" style="padding: 12px 30px; text-decoration: none; font-size: 1rem; color: rgb(51, 51, 51); display: block; transition: all 0.3s ease 0s;">WOMENS COLLECTION</a>
    <a href="shop-mens.html" style="padding: 12px 30px; text-decoration: none; font-size: 1rem; color: rgb(51, 51, 51); display: block; transition: all 0.3s ease 0s;">MENS COLLECTION</a>
    <a href="winter-collection.html" style="padding: 12px 30px; text-decoration: none; font-size: 1rem; color: rgb(51, 51, 51); display: block; transition: all 0.3s ease 0s;">WINTER COLLECTION</a>
    <a href="summer-collection.html" style="padding: 12px 30px; text-decoration: none; font-size: 1rem; color: rgb(51, 51, 51); display: block; transition: all 0.3s ease 0s;">SUMMER COLLECTION</a>
    <a href="autumn-collection.html" style="padding: 12px 30px; text-decoration: none; font-size: 1rem; color: rgb(51, 51, 51); display: block; transition: all 0.3s ease 0s;">AUTUMN COLLECTION</a>
    <a href="streetwear-urban.html" style="padding: 12px 30px; text-decoration: none; font-size: 1rem; color: rgb(51, 51, 51); display: block; transition: all 0.3s ease 0s;">STREETWEAR &amp; URBAN</a>
    <a href="kids-clothing.html" style="padding: 12px 30px; text-decoration: none; font-size: 1rem; color: rgb(51, 51, 51); display: block; transition: all 0.3s ease 0s;">KIDS' CLOTHING</a>
    <a href="everyday-luxe.html" style="padding: 12px 30px; text-decoration: none; font-size: 1rem; color: rgb(51, 51, 51); display: block; transition: all 0.3s ease 0s;">EVERYDAY LUXE</a>
    <a href="fit-mode.html" style="padding: 12px 30px; text-decoration: none; font-size: 1rem; color: rgb(51, 51, 51); display: block; transition: all 0.3s ease 0s;">FIT MODE</a>
  </div>
  <div class="announcement"> JOIN OUR LOYALTY PROGRAM & ENJOY THE BENEFITS! </div>
  <header>
    <div class="header-left">
      <div class="menu-icon"> <i class="fas fa-bars"></i> </div>
      <a href="index.html"> <img src="logo.png" alt="4Abuy Logo" style="height: 40px;"> </a>
    </div>
    <div class="icons">
      <i class="fas fa-search" onclick="openSearchOverlay()"></i>
      <a href="cart.html" style="color: black;"><i class="fas fa-shopping-cart"></i><span id="cart-count">0</span></a>
      <i class="fas fa-user" id="userAccountIcon" style="cursor: pointer;"></i>
    </div>
  </header>
  <div class="search-overlay" id="searchOverlay">
    <div class="search-container">
      <span class="close-search" onclick="closeSearchOverlay()">&times;</span>
      <form class="search-form" onsubmit="handleSearch(event)">
        <input type="text" class="search-input" placeholder="Search for products..." oninput="dynamicSearch(this.value)" required>
        <button type="submit" class="search-submit">Search</button>
      </form>
      <div id="searchResults" class="search-results-container"></div>
    </div>
  </div>
  <section class="hero">
    <iframe
      src="https://player.cloudinary.com/embed/?cloud_name=dav8t2igs&public_id=PinDown.io_1750203361_wmavwx&player[autoplay]=true&player[muted]=true&player[loop]=true&player[controls]=false&transformation=%7B%22crop%22%3A%22fill%22%2C%22gravity%22%3A%22auto%22%7D"
      allow="autoplay; fullscreen"
      frameborder="0"
    ></iframe>
    <div class="hero-bg-overlay"></div>
    <div class="hero-content">
      <div class="available">AVAILABLE!</div>
      <h1>NEW SEASON COLLECTION</h1>
      <div style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; margin-top: 20px;">
        <a href="shop-womens.html" style="text-decoration: none;"> <button class="shop-btn">SHOP WOMENS</button> </a>
        <a href="shop-mens.html" style="text-decoration: none;"> <button class="shop-btn">SHOP MENS</button> </a>
      </div>
    </div>
  </section>
  <section class="shop-category-section" id="shop-categories">
    <div class="shop-category-title"><span>SHOP BY CATEGORY</span></div>
    <div class="category-carousel-wrapper" id="category-carousel-wrapper">
      <button class="carousel-btn left" onclick="moveCategory(-1)" aria-label="Previous">&#10094;</button>
      <div class="category-carousel" id="category-carousel"></div>
      <button class="carousel-btn right" onclick="moveCategory(1)" aria-label="Next">&#10095;</button>
    </div>
  </section>
  <section class="new-arrivals">
    <div class="shop-category-title"><span>NEW ARRIVALS</span></div>
    <div class="product-grid">
        <div class="product-card"> <img src="https://res.cloudinary.com/dav8t2igs/image/upload/v1750180852/Screenshot_20250617_181628_Gallery_cvryuy.jpg" alt="SUMMER MEADOW DRESS"> <h3>SUMMER MEADOW DRESS</h3> <p class="price">$70.00</p> <button class="shop-now" data-name="SUMMER MEADOW DRESS" data-price="70.00" data-image="https://res.cloudinary.com/dav8t2igs/image/upload/v1750180852/Screenshot_20250617_181628_Gallery_cvryuy.jpg">Add to cart</button> </div>
        <div class="product-card"> <img src="https://res.cloudinary.com/dav8t2igs/image/upload/v1750180851/Screenshot_20250617_181659_Gallery_nxmaz7.jpg" alt="MEN'S RELAXED FIT POLO"> <h3>MEN'S RELAXED FIT POLO</h3> <p class="price">$35.00</p> <button class="shop-now" data-name="MEN'S RELAXED FIT POLO" data-price="35.00" data-image="https://res.cloudinary.com/dav8t2igs/image/upload/v1750180851/Screenshot_20250617_181659_Gallery_nxmaz7.jpg">Add to cart</button> </div>
        <div class="product-card"> <img src="https://res.cloudinary.com/dav8t2igs/image/upload/v1750180853/Screenshot_20250617_181601_Gallery_rnpkwg.jpg" alt="THE FLORA DRESS"> <h3>THE FLORA DRESS</h3> <p class="price">$75.00</p> <button class="shop-now" data-name="THE FLORA DRESS" data-price="75.00" data-image="https://res.cloudinary.com/dav8t2igs/image/upload/v1750180853/Screenshot_20250617_181601_Gallery_rnpkwg.jpg">Add to cart</button> </div>
        <div class="product-card"> <img src="https://res.cloudinary.com/dav8t2igs/image/upload/v1750180851/Screenshot_20250617_181650_Gallery_suych0.jpg" alt="VARSITY POLO CROP TOP"> <h3>VARSITY POLO CROP TOP</h3> <p class="price">$35.00</p> <button class="shop-now" data-name="VARSITY POLO CROP TOP" data-price="35.00" data-image="https://res.cloudinary.com/dav8t2igs/image/upload/v1750180851/Screenshot_20250617_181650_Gallery_suych0.jpg">Add to cart</button> </div>
        <div class="product-card"> <img src="https://res.cloudinary.com/dav8t2igs/image/upload/v1750180850/Screenshot_20250617_181716_Gallery_j4vtix.jpg" alt="MEN'S LINEN SHIRT & SHORTS SET"> <h3>MEN'S LINEN SHIRT & SHORTS SET</h3> <p class="price">$40.00</p> <button class="shop-now" data-name="MEN'S LINEN SHIRT & SHORTS SET" data-price="40.00" data-image="https://res.cloudinary.com/dav8t2igs/image/upload/v1750180850/Screenshot_20250617_181716_Gallery_j4vtix.jpg">Add to cart</button> </div>
        <div class="product-card"> <img src="https://res.cloudinary.com/dav8t2igs/image/upload/v1750180852/Screenshot_20250617_181638_Gallery_ixl6bn.jpg" alt="PROVENCAL GARDEN DRESS"> <h3>PROVENCAL GARDEN DRESS</h3> <p class="price">$75.00</p> <button class="shop-now" data-name="PROVENCAL GARDEN DRESS" data-price="75.00" data-image="https://res.cloudinary.com/dav8t2igs/image/upload/v1750180852/Screenshot_20250617_181638_Gallery_ixl6bn.jpg">Add to cart</button> </div>
        <div class="product-card"> <img src="https://res.cloudinary.com/dav8t2igs/image/upload/v1750180854/Screenshot_20250617_181509_Gallery_euud9i.jpg" alt="MENS' CASUAL SHORT SLEEVE T-SHIRT AND SHORT SET-KNIT"> <h3>MENS' CASUAL SHORT SLEEVE T-SHIRT AND SHORT SET-KNIT</h3> <p class="price">$35.00</p> <button class="shop-now" data-name="MENS' CASUAL SHORT SLEEVE T-SHIRT AND SHORT SET-KNIT" data-price="35.00" data-image="https://res.cloudinary.com/dav8t2igs/image/upload/v1750180854/Screenshot_20250617_181509_Gallery_euud9i.jpg">Add to cart</button> </div>
        <div class="product-card"> <img src="https://res.cloudinary.com/dav8t2igs/image/upload/v1750180856/Screenshot_20250617_181457_Gallery_ztknre.jpg" alt="MEN'S LIGHT BLUE JEANS"> <h3>MEN'S LIGHT BLUE JEANS</h3> <p class="price">$40.00</p> <button class="shop-now" data-name="MEN'S LIGHT BLUE JEANS" data-price="40.00" data-image="https://res.cloudinary.com/dav8t2igs/image/upload/v1750180856/Screenshot_20250617_181457_Gallery_ztknre.jpg">Add to cart</button> </div>
    </div>
  </section>
  <div id="vipModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background-color:rgba(0,0,0,0.6); z-index:9999; justify-content:center; align-items:center;">
    <div style="background:white; max-width:700px; width:90%; border-radius:12px; display:flex; overflow:hidden; box-shadow:0 0 30px rgba(0,0,0,0.3); position:relative; font-family:sans-serif;">
      <span onclick="document.getElementById('vipModal').style.display='none'" style="position:absolute; top:10px; right:15px; font-size:28px; font-weight:bold; color:#333; cursor:pointer;">&times;</span>
      <div style="flex:1;"><img src="https://res.cloudinary.com/dav8t2igs/image/upload/v1750180848/Screenshot_20250617_181820_Gallery_dmnzr6.jpg" alt="VIP Style" style="width:100%; height:100%; object-fit:cover;"></div>
      <div style="flex:1; padding:25px; display:flex; flex-direction:column; justify-content:center;">
        <h2 style="margin:0; font-size:20px;">REWARDS, DISCOUNTS AND MORE.</h2>
        <p style="margin:10px 0; font-size:18px; color:#cc00aa;"><strong>PLUS, IT'S FREE.</strong></p>
        <p style="margin:5px 0 20px;">It pays to be a VIP.</p>
        <input type="email" placeholder="EMAIL ADDRESS" style="padding:10px; width:100%; margin-bottom:10px; border:1px solid #ccc; border-radius:5px;">
        <button style="padding:12px; background:black; color:white; border:none; width:100%; border-radius:5px; cursor:pointer;" onclick="openModal('signupModal'); closeModal('vipModal');">SIGN UP NOW</button>
        <p style="margin-top:15px; font-size:14px;">Already a VIP? <a href="#" style="text-decoration:underline;" onclick="openModal('loginModal'); closeModal('vipModal'); return false;">Login Now</a></p>
      </div>
    </div>
  </div>
  <div id="loginModal" class="auth-modal">
    <div class="auth-modal-content">
      <span class="close-btn" onclick="closeModal('loginModal')">&times;</span>
      <h2>Login</h2>
      <form id="loginForm">
        <input type="email" id="loginEmail" placeholder="Email Address" required>
        <input type="password" id="loginPassword" placeholder="Password" required>
        <button type="submit">LOGIN</button>
      </form>
      <p class="switch-form-link">Don't have an account? <a onclick="openModal('signupModal'); closeModal('loginModal'); return false;">Sign Up</a></p>
    </div>
  </div>
  <div id="signupModal" class="auth-modal">
    <div class="auth-modal-content">
      <span class="close-btn" onclick="closeModal('signupModal')">&times;</span>
      <h2>Create Account</h2>
      <form id="signupForm">
        <input type="text" id="signupFirstName" placeholder="First Name" required style="margin-bottom: 10px; padding: 10px; font-size: 1rem; border-radius: 5px; border: 1px solid #ccc; width: calc(100% - 22px); box-sizing: border-box;">
        <input type="email" id="signupEmail" placeholder="Email Address" required>
        <input type="password" id="signupPassword" placeholder="Password" required>
        <button type="submit">SIGN UP</button>
      </form>
      <p class="switch-form-link">Already have an account? <a onclick="openModal('loginModal'); closeModal('signupModal'); return false;">Login</a></p>
    </div>
  </div>
  <section class="all-seasons-collection-section">
    <div class="shop-category-title"><span>ALL SEASONS COLLECTION</span></div>
    <div class="seasons-grid">
      <div class="season-card"> <img src="https://res.cloudinary.com/dav8t2igs/image/upload/v1750202878/Screenshot_20250618_002651_Gallery_guzud8.jpg" alt="Summer Collection"> <h3>SUMMER</h3> <p>Explore our vibrant and breezy summer collection, perfect for sunny days and warm nights.</p> <button class="shop-now" onclick="window.location.href='summer-collection.html'">SEE MORE</button> </div>
      <div class="season-card"> <img src="https://res.cloudinary.com/dav8t2igs/image/upload/v1750180861/Screenshot_20250617_181245_Gallery_eb9imm.jpg" alt="Winter Collection"> <h3>WINTER</h3> <p>Stay warm and stylish with our cozy winter essentials, from knitwear to outerwear.</p> <button class="shop-now" onclick="window.location.href='winter-collection.html'">SEE MORE</button> </div>
      <div class="season-card"> <img src="https://res.cloudinary.com/dav8t2igs/image/upload/v1750180855/Screenshot_20250617_181520_Gallery_mzi1sc.jpg" alt="Autumn Collection"> <h3>AUTUMN</h3> <p>Discover earthy tones and comfortable chic in our autumn arrivals, perfect for the changing season.</p> <button class="shop-now" onclick="window.location.href='autumn-collection.html'">SEE MORE</button> </div>
    </div>
  </section>
  <section class="about-us" style="padding: 60px 20px; background: #f8f8f8; max-width: 1200px; margin: 0 auto;">
    <div style="text-align: center; margin-bottom: 40px;">
      <h2 style="font-size: 2rem; letter-spacing: 2px; color: #111;">ABOUT US</h2>
      <div style="width: 80px; height: 3px; background: #111; margin: 15px auto;"></div>
    </div>
    <div style="display: flex; flex-wrap: wrap; gap: 40px; justify-content: center;">
      <div style="flex: 1; min-width: 300px; max-width: 500px;">
        <h3 style="font-size: 1.5rem; margin-bottom: 20px;">OUR STORY</h3>
        <p style="line-height: 1.6; color: #444;"> 4Abuy was founded in 2020 with a simple mission: to bring high-quality fashion to everyone at affordable prices. What started as a small online store has grown into a premier destination for modern, stylish clothing and accessories. </p>
        <p style="line-height: 1.6; color: #444; margin-top: 15px;"> We believe fashion should be accessible, sustainable, and expressive. Our team carefully curates each collection to ensure you get the best styles that fit your lifestyle. </p>
      </div>
      <div style="flex: 1; min-width: 300px; max-width: 500px;">
        <h3 style="font-size: 1.5rem; margin-bottom: 20px;">OUR VALUES</h3>
        <ul style="list-style-type: none; padding: 0; line-height: 1.6; color: #444;">
          <li style="margin-bottom: 10px; display: flex; align-items: flex-start;"><span style="font-weight: bold; margin-right: 10px;">✓</span><span>Quality craftsmanship in every product</span></li>
          <li style="margin-bottom: 10px; display: flex; align-items: flex-start;"><span style="font-weight: bold; margin-right: 10px;">✓</span><span>Ethical and sustainable sourcing</span></li>
          <li style="margin-bottom: 10px; display: flex; align-items: flex-start;"><span style="font-weight: bold; margin-right: 10px;">✓</span><span>Exceptional customer service</span></li>
          <li style="margin-bottom: 10px; display: flex; align-items: flex-start;"><span style="font-weight: bold; margin-right: 10px;">✓</span><span>Innovative and trend-forward designs</span></li>
        </ul>
      </div>
    </div>
    <div style="text-align: center; margin-top: 50px;">
      <h3 style="font-size: 1.3rem; margin-bottom: 20px;">JOIN OUR COMMUNITY</h3>
      <p style="max-width: 700px; margin: 0 auto 20px; line-height: 1.6; color: #444;"> Follow us on social media to stay updated on new arrivals, exclusive deals, and style inspiration. </p>
      <div style="display: flex; justify-content: center; gap: 20px;">
        <a href="https://www.instagram.com/ayman_achater?igsh=MTI3ZjJxbDMzdzd3cg==" style="color: #111; font-size: 1.5rem;"><i class="fab fa-instagram"></i></a>
        <a href="https://www.facebook.com/share/15xHUKDZhN/" style="color: #111; font-size: 1.5rem;"><i class="fab fa-facebook"></i></a>
      </div>
    </div>
  </section>
  <div id="userDropupMenu" style="display:none; position: fixed; top: 50px; right: 20px; width: 250px; background: white; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.15); font-family: 'Segoe UI', Arial, sans-serif; z-index: 10000; padding: 15px;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
      <strong style="font-size: 1.1rem;">Welcome <span id="welcomeUserName" style="font-weight: 900;">user</span></strong>
      <span id="closeDropup" style="cursor: pointer; font-weight: bold; font-size: 1.2rem;">&times;</span>
    </div>
    <div style="font-weight: 600; margin-bottom: 8px; cursor: pointer;" id="accountSettingsMain">Account Settings</div>
    <div style="padding: 8px 0; cursor: pointer; display: flex; align-items: center; gap: 8px;" id="passwordPersonalInfoMain"><i class="fas fa-lock"></i> Password & Personal Info</div>
    <div style="font-weight: 600; margin: 15px 0 8px 0;">We're here to help, 24/7</div>
    <div style="padding: 8px 0; cursor: pointer; display: flex; align-items: center; gap: 8px;" id="contactUs"><i class="fas fa-comment"></i> Contact Us</div>
    <div style="padding: 8px 0; cursor: pointer; display: flex; align-items: center; gap: 8px;" id="signOutMain"><i class="fas fa-sign-out-alt"></i> Sign Out</div>
  </div>
  <div id="userAccountSettingsMenu" style="display:none; position: fixed; top: 50px; right: 20px; width: 280px; background: white; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.15); font-family: 'Segoe UI', Arial, sans-serif; z-index: 10000; padding: 15px;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
      <button id="backToMainMenu" style="background:none; border:none; font-size: 1.2rem; cursor: pointer;">&#8592;</button>
      <strong style="font-size: 1.1rem;">Welcome <span id="welcomeUserNameSettings" style="font-weight: 900;">user</span></strong>
      <span id="closeSettingsDropup" style="cursor: pointer; font-weight: bold; font-size: 1.2rem;">&times;</span>
    </div>
    <div style="margin-bottom: 10px;">
      <label for="userNameDisplay" style="font-weight: 600;">Name:</label>
      <div id="userNameDisplay" style="padding: 6px 8px; background: #f0f0f0; border-radius: 4px; margin-top: 4px;">User Name</div>
    </div>
    <div style="margin-bottom: 10px;">
      <label for="userEmailDisplay" style="font-weight: 600;">Email:</label>
      <div id="userEmailDisplay" style="padding: 6px 8px; background: #f0f0f0; border-radius: 4px; margin-top: 4px;">user@example.com</div>
    </div>
    <div style="margin-bottom: 15px;">
      <label for="newPasswordInput" style="font-weight: 600;">Change Password:</label>
      <input type="password" id="newPasswordInput" placeholder="New Password" style="width: 100%; padding: 6px 8px; margin-top: 4px; border: 1px solid #ccc; border-radius: 4px;">
      <button id="changePasswordBtn" style="margin-top: 8px; width: 100%; padding: 8px; background: #000; color: #fff; border: none; border-radius: 4px; cursor: pointer;">Change Password</button>
    </div>
    <div style="padding: 8px 0; cursor: pointer; display: flex; align-items: center; gap: 8px;" id="signOutSettings"><i class="fas fa-sign-out-alt"></i> Sign Out</div>
  </div>

  <script src="cart.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
  <script>
    // --- Start of Combined and Cleaned Script ---

    // Firebase Configuration
    const firebaseConfig = { apiKey: "AIzaSyDelMOFKyvYx4u9FCgpq1HTr9eAoyjBjS0", authDomain: "abuy-77b4e.firebaseapp.com", projectId: "abuy-77b4e", storageBucket: "abuy-77b4e.firebasestorage.app", messagingSenderId: "1081289117876", appId: "1:1081289117876:web:b3479e942dea9dc14607e1", measurementId: "G-31SH8VCRYG" };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    // Exchange Rate (Update this value as needed)
    const DH_TO_USD_RATE = 0.10; // Example: 1 DH = 0.10 USD (as of 2025-06-18, check current rate for accuracy)

    // Function to convert DH to USD
    function convertDhToUsd(priceInDh) {
        return (parseFloat(priceInDh) * DH_TO_USD_RATE).toFixed(2);
    }

    // Page-specific Logic (Carousel)
    const categories=[
        {img:"https://res.cloudinary.com/dav8t2igs/image/upload/v1750180849/Screenshot_20250617_181739_Gallery_chfv2r.jpg",label:"STREETWEAR & URBAN",link:"streetwear-urban.html"},
        {img:"https://res.cloudinary.com/dav8t2igs/image/upload/v1750180848/Screenshot_20250617_181806_Gallery_lpptsj.jpg",label:"KIDS' CLOTHING",link:"kids-clothing.html"},
        {img:"https://res.cloudinary.com/dav8t2igs/image/upload/v1750180847/Screenshot_20250617_181845_Gallery_enxgsl.jpg",label:"EVERYDAY LUXE",link:"everyday-luxe.html"},
        {img:"https://res.cloudinary.com/dav8t2igs/image/upload/v1750180848/Screenshot_20250617_181831_Gallery_sjxb8o.jpg",label:"FIT MODE",link:"fit-mode.html"}
    ];
    let currentIndex=0;
    const carouselContainer = document.getElementById("category-carousel");
    const carouselWrapper = document.getElementById("category-carousel-wrapper");
    function renderCarousel(){ if(!carouselContainer) return; carouselContainer.innerHTML = ""; const category = categories[currentIndex]; const slide = document.createElement("a"); slide.href = category.link; slide.className = "category-slide"; slide.style.textDecoration = "none"; slide.innerHTML = `<img src="${category.img}" alt="${category.label}"> <div class="category-label">${category.label}</div>`; carouselContainer.appendChild(slide); }
    function moveCategory(direction) { currentIndex = (currentIndex + direction + categories.length) % categories.length; renderCarousel(); }
    let autoPlayInterval = setInterval(() => { moveCategory(1); }, 3000);
    if(carouselWrapper){
        carouselWrapper.addEventListener('mouseenter', () => { clearInterval(autoPlayInterval); });
        carouselWrapper.addEventListener('mouseleave', () => { autoPlayInterval = setInterval(() => { moveCategory(1); }, 3000); });
    }

    // Search Logic with All Products
    const products = [
        // Autumn Collection
        { name: "VARSITY POLO CROP TOP", price: convertDhToUsd("350"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750180851/Screenshot_20250617_181650_Gallery_suych0.jpg", url: "autumn-collection.html" },
        { name: "MEN'S RELAXED FIT POLO", price: convertDhToUsd("350"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750180851/Screenshot_20250617_181659_Gallery_nxmaz7.jpg", url: "autumn-collection.html" },
        { name: "SUMMER MEADOW DRESS", price: convertDhToUsd("750"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750180852/Screenshot_20250617_181628_Gallery_cvryuy.jpg", url: "autumn-collection.html" },
        { name: "GUIRENIAO MEN'S POLO SHIRT", price: convertDhToUsd("350"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750180862/Screenshot_20250617_181211_Gallery_y1cfyx.jpg", url: "autumn-collection.html" },
        { name: "MEN'S LIGHT BLUE JEANS", price: convertDhToUsd("400"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750180856/Screenshot_20250617_181457_Gallery_ztknre.jpg", url: "autumn-collection.html" },
        { name: "THE FLORA DRESS", price: convertDhToUsd("750"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750180853/Screenshot_20250617_181601_Gallery_rnpkwg.jpg", url: "autumn-collection.html" },
        // Everyday Luxe
        { name: "PROVENCAL GARDEN DRESS", price: convertDhToUsd("750"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750180852/Screenshot_20250617_181638_Gallery_ixl6bn.jpg", url: "everyday-luxe.html" },
        { name: "BLUE PORCELAIN BOW TOP", price: convertDhToUsd("400"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750180854/Screenshot_20250617_181530_Gallery_ti9e6z.jpg", url: "everyday-luxe.html" },
        // Fit Mode
        { name: "WOMEN'S GYM & BARBELL GRAPHIC PRINT T-SHIRT", price: convertDhToUsd("200"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750180859/Screenshot_20250617_181348_Gallery_crqzwx.jpg", url: "fit-mode.html" },
        { name: "MEN'S ATHELTIC PANTS", price: convertDhToUsd("300"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750180859/Screenshot_20250617_181337_Gallery_tepxet.jpg", url: "fit-mode.html" },
        { name: "MEN'S QUICK-DRY ATHLETIC SHORTS", price: convertDhToUsd("200"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750180856/Screenshot_20250617_181436_Gallery_fv8smt.jpg", url: "fit-mode.html" },
        { name: "MEN'S HOODED SHORT SLEEVE T-SHIRT", price: convertDhToUsd("300"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750180858/Screenshot_20250617_181359_Gallery_atdeza.jpg", url: "fit-mode.html" },
        { name: "MEN'S QUICK-DRY VEST", price: convertDhToUsd("200"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750180857/Screenshot_20250617_181412_Gallery_dchdbt.jpg", url: "fit-mode.html" },
        { name: "MEN'S HIGH-NECK ATHLETIC T-SHIRT", price: convertDhToUsd("300"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750180857/Screenshot_20250617_181423_Gallery_jxcxm7.jpg", url: "fit-mode.html" },
        // Kids Clothing
        { name: "BOYS' SUMMER DENIM 2PCS SET", price: convertDhToUsd("300"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750180857/Screenshot_20250617_181447_Gallery_xiab27.jpg", url: "kids-clothing.html" },
        { name: "4PCS SET FOR BABY BOYS", price: convertDhToUsd("350"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750180864/Screenshot_20250617_181023_Gallery_kahkjg.jpg", url: "kids-clothing.html" },
        { name: "2PCS YOUNG BOY'S CASUAL CARTOON BEAR", price: convertDhToUsd("250"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750180864/Screenshot_20250617_180943_Gallery_b063l5.jpg", url: "kids-clothing.html" },
        { name: "YOUNGSTERS BOYS SUMMER SOLID COLOR JACQUARD 2PCS", price: convertDhToUsd("250"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750184012/Screenshot_20250617_191315_Dropbox_qlllms.jpg", url: "kids-clothing.html" },
        { name: "NEW GIRLS' ROUND NECK SHORT SLEEVE", price: convertDhToUsd("350"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750180860/Screenshot_20250617_181308_Gallery_v4nydq.jpg", url: "kids-clothing.html" },
        { name: "2PCS TRENDY GIRLS SUMMER OUTFIT", price: convertDhToUsd("300"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750180861/Screenshot_20250617_181325_Gallery_uugn2e.jpg", url: "kids-clothing.html" },
        // Mens Collection
        { name: "MEN'S LINEN SHIRT & SHORTS SET", price: convertDhToUsd("400"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750180850/Screenshot_20250617_181716_Gallery_j4vtix.jpg", url: "shop-mens.html" },
        { name: "MEN'S WINTER JACKET", price: convertDhToUsd("550"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750180862/Screenshot_20250617_181225_Gallery_dnzl0z.jpg", url: "shop-mens.html" },
        { name: "MENS' CASUAL SHORT SLEEVE T-SHIRT AND SHORT SET-KNIT", price: convertDhToUsd("350"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750180854/Screenshot_20250617_181509_Gallery_euud9i.jpg", url: "shop-mens.html" },
        // Womens Collection
        { name: "HIGH-NECK ZIP-UP PUFFER JACKET", price: convertDhToUsd("500"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750180853/Screenshot_20250617_181546_Gallery_g8xvaz.jpg", url: "shop-womens.html" },
        // Winter Collection
        { name: "MEN'S VINTAGE-INSPIRED CREWNECK SWEATSHIRT", price: convertDhToUsd("350"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750180863/Screenshot_20250617_181156_Gallery_qabe76.jpg", url: "winter-collection.html" },
        { name: "MEN'S WINTER CAMO JACKET", price: convertDhToUsd("550"), image: "https://res.cloudinary.com/dav8t2igs/image/upload/v1750180863/Screenshot_20250617_181137_Gallery_o1pbhj.jpg", url: "winter-collection.html" }
    ];

    function openSearchOverlay(){document.getElementById("searchOverlay").style.display="flex"}
    function closeSearchOverlay(){document.getElementById("searchOverlay").style.display="none"}
    function handleSearch(e){e.preventDefault();const t=e.target.querySelector(".search-input").value;window.location.href=`search.html?q=${encodeURIComponent(t)}`}

    function dynamicSearch(e) {
        const t = document.getElementById("searchResults");
        t.innerHTML = "";
        if ("" === e.trim()) {
            t.style.display = "none";
            return;
        }
        const o = e.toLowerCase();

        // Remove duplicates based on product name
        const uniqueProducts = Array.from(new Map(products.map(item => [item.name, item])).values());

        const n = uniqueProducts.filter(item => item.name.toLowerCase().includes(o));

        if (n.length > 0) {
            n.forEach(item => {
                const resultLink = document.createElement("a");
                resultLink.href = item.url;
                resultLink.className = "search-result-item";

                resultLink.innerHTML = `
                    <img src="${item.image}" alt="${item.name}">
                    <div class="search-result-details">
                        <h4>${item.name}</h4>
                        <p>$${item.price}</p>
                    </div>
                    <button class="shop-now" data-name="${item.name}" data-price="${item.price}" data-image="${item.image}">Add to cart</button>
                `;
                t.appendChild(resultLink);
            });
            // Add event listeners for "Add to cart" buttons dynamically
            t.querySelectorAll('.shop-now').forEach(button => {
                button.addEventListener('click', (e) => {
                    const name = e.target.dataset.name;
                    const price = parseFloat(e.target.dataset.price);
                    const image = e.target.dataset.image;
                    const product = { name, price, image, quantity: 1 };
                    let cart = JSON.parse(localStorage.getItem('cart')) || [];
                    const existingProductIndex = cart.findIndex(item => item.name === name);
                    if (existingProductIndex > -1) {
                        cart[existingProductIndex].quantity += 1;
                    } else {
                        cart.push(product);
                    }
                    localStorage.setItem('cart', JSON.stringify(cart));
                    updateCartCount();
                });
            });

        } else {
            t.innerHTML = '<p style="padding: 10px; text-align: center;">No products found.</p>';
        }
        t.style.display = "block";
    }

    // Modal, Auth, and Menu Logic
    function openModal(modalId) { document.getElementById(modalId).style.display = "flex"; }
    function closeModal(modalId) { document.getElementById(modalId).style.display = "none"; }

    document.addEventListener('DOMContentLoaded', () => {
        if(typeof renderCarousel === "function") renderCarousel();
        updateCartCount();

        const menuIcon = document.querySelector('.menu-icon');
        const sideMenu = document.getElementById('sideMenu');
        const closeSideMenu = document.getElementById('closeSideMenu');
        if (menuIcon) {
            menuIcon.addEventListener('click', (event) => { event.stopPropagation(); sideMenu.style.width = '280px'; });
        }
        if (closeSideMenu) {
            closeSideMenu.addEventListener('click', () => { sideMenu.style.width = '0'; });
        }
        window.addEventListener('click', (event) => {
            const menuIconContainer = document.querySelector('.menu-icon');
            if (event.target !== sideMenu && !sideMenu.contains(event.target) && event.target !== menuIconContainer && !menuIconContainer.contains(event.target)) {
                if (sideMenu.style.width === '280px') { sideMenu.style.width = '0'; }
            }
        });

        const loginForm = document.getElementById('loginForm');
        const signupForm = document.getElementById('signupForm');
        if (loginForm) {
            loginForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                try { await auth.signInWithEmailAndPassword(email, password); closeModal('loginModal'); } catch (error) { alert('Login failed: ' + error.message); }
            });
        }
        if (signupForm) {
            signupForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const firstName = document.getElementById('signupFirstName').value.trim();
                const email = document.getElementById('signupEmail').value;
                const password = document.getElementById('signupPassword').value;
                try { const userCredential = await auth.createUserWithEmailAndPassword(email, password); await userCredential.user.updateProfile({ displayName: firstName }); closeModal('signupModal'); }catch (error) { alert('Signup failed: ' + error.message); }
            });
        }
        auth.onAuthStateChanged(user => {
            const dropupMenu = document.getElementById('userDropupMenu');
            const welcomeUserName = document.getElementById('welcomeUserName');
            const userAccountIcon = document.getElementById('userAccountIcon');
            if (user) {
                if (userAccountIcon) {
                    userAccountIcon.className = 'fas fa-user-check';
                    userAccountIcon.onclick = () => { dropupMenu.style.display = dropupMenu.style.display === 'block' ? 'none' : 'block'; };
                }
                if (welcomeUserName) { welcomeUserName.textContent = user.displayName || 'user'; }
                closeModal('loginModal'); closeModal('signupModal');
            } else {
                if (userAccountIcon) {
                    userAccountIcon.className = 'fas fa-user';
                    userAccountIcon.onclick = () => openModal('loginModal');
                }
                if (dropupMenu) { dropupMenu.style.display = 'none'; }
                if (welcomeUserName) { welcomeUserName.textContent = 'user'; }
                if (!sessionStorage.getItem("popupShown") && document.getElementById('vipModal')) {
                    document.getElementById('vipModal').style.display = "flex";
                    sessionStorage.setItem("popupShown", "true");
                }
            }
        });
        document.getElementById('closeDropup')?.addEventListener('click', () => { document.getElementById('userDropupMenu').style.display = 'none'; });
        document.getElementById('closeSettingsDropup')?.addEventListener('click', () => { document.getElementById('userAccountSettingsMenu').style.display = 'none'; });
        document.getElementById('backToMainMenu')?.addEventListener('click', () => { document.getElementById('userAccountSettingsMenu').style.display = 'none'; document.getElementById('userDropupMenu').style.display = 'block'; });
        document.getElementById('accountSettingsMain')?.addEventListener('click', () => { document.getElementById('userDropupMenu').style.display = 'none'; document.getElementById('userAccountSettingsMenu').style.display = 'block'; updateAccountSettingsMenu(); });
        document.getElementById('passwordPersonalInfoMain')?.addEventListener('click', () => { document.getElementById('userDropupMenu').style.display = 'none'; document.getElementById('userAccountSettingsMenu').style.display = 'block'; updateAccountSettingsMenu(); });
        document.getElementById('contactUs')?.addEventListener('click', () => { window.open('https://www.instagram.com/ayman_achater?igsh=MTI3ZjJxbDMzdzd3cg==', '_blank'); });
        document.getElementById('signOutMain')?.addEventListener('click', () => { if (confirm('Are you sure you want to sign out?')) { auth.signOut().catch(error => alert('Logout failed: ' + error.message)); } });
        document.getElementById('signOutSettings')?.addEventListener('click', () => { if (confirm('Are you sure you want to sign out?')) { auth.signOut().catch(error => alert('Logout failed: ' + error.message)); } });

        document.querySelectorAll('.shop-now').forEach(button => {
            button.addEventListener('click', (e) => {
                const name = e.target.dataset.name;
                const price = parseFloat(e.target.dataset.price);
                const image = e.target.dataset.image;
                const product = { name, price, image, quantity: 1 };
                let cart = JSON.parse(localStorage.getItem('cart')) || [];
                const existingProductIndex = cart.findIndex(item => item.name === name);
                if (existingProductIndex > -1) {
                    cart[existingProductIndex].quantity += 1;
                } else {
                    cart.push(product);
                }
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartCount();
            });
        });
    });

    function updateAccountSettingsMenu() { const user = auth.currentUser; if (user) { document.getElementById('welcomeUserNameSettings').textContent = user.displayName || 'user'; document.getElementById('userNameDisplay').textContent = user.displayName || 'user'; document.getElementById('userEmailDisplay').textContent = user.email || ''; document.getElementById('newPasswordInput').value = ''; } }
    document.getElementById('changePasswordBtn')?.addEventListener('click', () => { const newPassword = document.getElementById('newPasswordInput').value.trim(); if (newPassword.length < 6) { alert('Password must be at least 6 characters long.'); return; } const user = auth.currentUser; if (user) { user.updatePassword(newPassword).then(() => { alert('Password changed successfully.'); document.getElementById('newPasswordInput').value = ''; }).catch(error => alert('Failed to change password: ' + error.message)); } else { alert('No user is currently signed in.'); } });

    function updateCartCount() {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        const cartCount = cart.reduce((total, item) => total + item.quantity, 0);
        const cartCountSpan = document.getElementById('cart-count');
        if(cartCountSpan) {
            cartCountSpan.textContent = cartCount;
        }
    }
    // --- End of Combined and Cleaned Script ---
  </script>
</body>
</html>
